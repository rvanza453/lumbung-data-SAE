<IfModule mod_rewrite.c>
    RewriteEngine On

    # 1. Izinkan Header Authorization (Supaya tidak dihapus server)
    RewriteCond %{HTTP:Authorization} ^(.*)
    RewriteRule .* - [e=HTTP_AUTHORIZATION:%1]

    # 2. Handle CORS (Agar bisa diakses dari beda domain/port jika perlu)
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type, Authorization, X-Auth-Token, X-Requested-With"

    # 3. Mencegah akses langsung ke file sensitif (Opsional)
    <Files "BaseAPI.php">
        Order Allow,Deny
        Deny from all
    </Files>
</IfModule>